# SAMOVAR-esp32
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≥–æ–Ω–Ω–æ–≥–æ –∫—É–±–∞ —Å –æ—Ç–±–æ—Ä–æ–º –ø–æ –∂–∏–¥–∫–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

# üî• SAMOVAR V2 - ESP32 Temperature Control System

![Version](https://img.shields.io/badge/version-2.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Platform](https://img.shields.io/badge/platform-ESP32-red)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ –±–∞–∑–µ ESP32 —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Telegram –±–æ—Ç. –ü—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞–≥—Ä–µ–≤–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∞–ø–∞–Ω–æ–º –∏ –∑–≤—É–∫–æ–≤—ã–º –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ–º.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üå°Ô∏è **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã** - –¥–∞—Ç—á–∏–∫ DS18B20 (–¥–∏–∞–ø–∞–∑–æ–Ω 0-100¬∞C)
- üí¨ **Telegram –±–æ—Ç** - —É–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üö∞ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞–ø–∞–Ω** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º (D26)
- üîî **–ó–≤—É–∫–æ–≤–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ** - –∑—É–º–º–µ—Ä (D33)
- üìä **LED –¥–∏—Å–ø–ª–µ–π** - MAX7219 (8 —Ü–∏—Ñ—Ä)
- ‚è≤Ô∏è **–¢–∞–π–º–µ—Ä** - –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ 9999 —Å–µ–∫—É–Ω–¥
- üåê **Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ WiFi
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** - –≤ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ESP32 DevKit (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
- DS18B20 - –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- MAX7219 - 8-—Ä–∞–∑—Ä—è–¥–Ω—ã–π LED –¥–∏—Å–ø–ª–µ–π
- –¢–≤–µ—Ä–¥–æ—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–ª–µ (–¥–ª—è –∫–ª–∞–ø–∞–Ω–∞)
- –ó—É–º–º–µ—Ä 5V
- –†–µ–∑–∏—Å—Ç–æ—Ä 4.7kŒ© (–¥–ª—è DS18B20)

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ:
- Arduino IDE 2.x
- ESP32 Board Support Package v3.x

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
```cpp
- WiFi (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- WebServer (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- Preferences (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- GyverDS18
- FastBot
- ESPping
- GyverSegment
```

## üìå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | ESP32 Pin | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|-----------|----------|
| DS18B20 DATA | GPIO 2 | –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã |
| MAX7219 DIN | GPIO 19 | –î–∏—Å–ø–ª–µ–π - –¥–∞–Ω–Ω—ã–µ |
| MAX7219 CLK | GPIO 18 | –î–∏—Å–ø–ª–µ–π - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
| MAX7219 CS | GPIO 5 | –î–∏—Å–ø–ª–µ–π - –≤—ã–±–æ—Ä |
| –ó—É–º–º–µ—Ä | GPIO 33 | –ó–≤—É–∫–æ–≤–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ |
| –ö–ª–∞–ø–∞–Ω | GPIO 26 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º |
| –ö–Ω–æ–ø–∫–∞ RESET | GPIO 0 (BOOT) | –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—É–¥–µ—Ä–∂–∞–Ω–∏–µ 5 —Å–µ–∫) |

–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: [docs/WIRING.md](docs/WIRING.md)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

–í Arduino IDE: `–°–∫–µ—Ç—á ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- `GyverDS18`
- `FastBot`
- `ESPping`
- `GyverSegment`

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞
```bash
git clone https://github.com/your-username/samovar-esp32.git
cd samovar-esp32/SAMOVAR_V2
```

–û—Ç–∫—Ä–æ–π—Ç–µ `SAMOVAR_V2.ino` –≤ Arduino IDE

### 3. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –Ω–∞ ESP32
2. ESP32 —Å–æ–∑–¥–∞—Å—Ç WiFi —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ `SAMOVAR_XXXXXXXX` (–ø–∞—Ä–æ–ª—å: `12345678`)
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —ç—Ç–æ–π —Å–µ—Ç–∏
4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä ‚Üí `http://192.168.4.1`
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - WiFi SSID –∏ –ø–∞—Ä–æ–ª—å
   - Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç–µ —É [@BotFather](https://t.me/BotFather))
   - Chat ID (–ø–æ–ª—É—á–∏—Ç–µ —É [@userinfobot](https://t.me/userinfobot))
6. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
7. ESP32 –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –≤–∞—à–µ–π WiFi

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É `/help` –¥–ª—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥: [docs/COMMANDS.md](docs/COMMANDS.md)

## üí¨ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/?` | –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã |
| `/help` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ |
| `/start` | –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è |
| `/alarm_on` | –†–∞–∑—Ä–µ—à–∏—Ç—å –∑—É–º–º–µ—Ä |
| `/alarm_off` | –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –∑—É–º–º–µ—Ä |
| `/zummer` | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∑—É–º–º–µ—Ä (—Ç—Ä–∏–≥–≥–µ—Ä) |
| `/valve_on` | –ö–ª–∞–ø–∞–Ω HIGH (–∑–∞–∫—Ä—ã—Ç—å) |
| `/valve_off` | –ö–ª–∞–ø–∞–Ω LOW (–æ—Ç–∫—Ä—ã—Ç—å) |
| `/temp_up` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥ MAX |
| `/temp_down` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ—Ä–æ–≥ MIN |
| `/temp_current` | MAX = —Ç–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ |
| `/temp_dev` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ–≤–∏–∞—Ü–∏—é (0-5¬∞C) |
| `/set_timer` | –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞ (1-9999 —Å–µ–∫) |

## ‚öôÔ∏è –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç—Ä–æ–ª—è (–∫–æ–º–∞–Ω–¥–∞ `/start`):

1. **–ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏** `MAX + –î–µ–≤–∏–∞—Ü–∏—è`:
   - D26 ‚Üí HIGH (–∑–∞–∫—Ä—ã—Ç—å –∫–ª–∞–ø–∞–Ω)
   - –ï—Å–ª–∏ `Alarm Enabled = ON` ‚Üí D33 ‚Üí HIGH (–≤–∫–ª—é—á–∏—Ç—å –∑—É–º–º–µ—Ä)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

2. **–ü—Ä–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏** —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ‚â§ `MAX`:
   - D26 ‚Üí LOW (–æ—Ç–∫—Ä—ã—Ç—å –∫–ª–∞–ø–∞–Ω)
   - D33 ‚Üí LOW (–≤—ã–∫–ª—é—á–∏—Ç—å –∑—É–º–º–µ—Ä)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

### –î–∏—Å–ø–ª–µ–π:
```
[T][T].[T] [H][H].[M][M]
 0  1  2   4  5  6  7

–õ–µ–≤–∞—è —á–∞—Å—Ç—å: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (XX.X¬∞C)
–ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –í—Ä–µ–º—è (HH.MM) –∏–ª–∏ –¢–∞–π–º–µ—Ä (SSSS —Å–µ–∫)
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚ö†Ô∏è **–ù–ï —Ö—Ä–∞–Ω–∏—Ç–µ** —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏ –≤ –∫–æ–¥–µ
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** –¥–ª—è WiFi
- ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –∫ Telegram –±–æ—Ç—É (—Ç–æ–ª—å–∫–æ –≤–∞—à Chat ID)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **—ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏** ESP32

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### ESP32 –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è (COM –ø–æ—Ä—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä CH340 –∏–ª–∏ CP2102
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π USB –∫–∞–±–µ–ª—å/–ø–æ—Ä—Ç
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É BOOT –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### –î–∞—Ç—á–∏–∫ DS18B20 –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑–∏—Å—Ç–æ—Ä 4.7kŒ© (–ø–æ–¥—Ç—è–∂–∫–∞ –∫ VCC)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (DATA, VCC, GND)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å –¥–∞—Ç—á–∏–∫–∞

### WiFi –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å SSID –∏ –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –≤ –∑–æ–Ω–µ –¥–æ—Å—Ç—É–ø–∞
- ESP32 —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ 2.4 GHz WiFi

### –°–±—Ä–æ—Å –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
–£–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É **BOOT** (GPIO 0) **5 —Å–µ–∫—É–Ω–¥** ‚Üí ESP32 –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –≤ —Ä–µ–∂–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥](docs/COMMANDS.md)
- [–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](docs/WIRING.md)
- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ](docs/SETUP.md)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT](LICENSE)

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

- GitHub Issues: [–°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ](https://github.com/your-username/samovar-esp32/issues)
- Telegram: [@your_telegram]

---

‚≠ê **–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É!** ‚≠ê
